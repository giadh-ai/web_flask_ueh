{% extends "index.html" %}

{% block content %}
<div style="padding: 20px;">
    <h2 style="margin-bottom: 20px; text-align: center;">Danh s√°ch s·∫£n ph·∫©m</h2>

    <div class="product-grid">
        {% if products %}
            {% for p in products %}
                <div class="product-card" onclick="window.location.href='{{ url_for('product_detail', product_id=p.id) }}'">
                    
                    <div class="product-image-wrapper">
                        <img src="{{ p.image if p.image else url_for('static', filename='images/khongcoanh.png') }}" 
                             alt="{{ p.title }}"
                             onerror="this.src='{{ url_for('static', filename='images/khongcoanh.png') }}'">
                    </div>

                    <div class="product-info">
                        <div class="product-title">{{ p.title }}</div>
                        <p class="product-price">${{ p.price }}</p>
                        <small class="product-rating">
                            ‚≠ê {{ p.rating_rate }} | ({{ p.rating_count }} ƒë√°nh gi√°)
                        </small>
                    </div>

                    <button class="btn-add-cart" onclick="event.stopPropagation(); alert('ƒê√£ th√™m {{ p.title }} v√†o gi·ªè h√†ng!');">
                        üõí Th√™m v√†o gi·ªè
                    </button>

                </div>
            {% endfor %}
        {% else %}
            <p style="text-align: center; width: 100%;">Kh√¥ng c√≥ d·ªØ li·ªáu ho·∫∑c l·ªói k·∫øt n·ªëi.</p>
        {% endif %}
    </div>
</div>
{% endblock %}